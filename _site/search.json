[
  {
    "objectID": "In-class_Ex/In-Class_Ex02/In-class_Ex02.html",
    "href": "In-class_Ex/In-Class_Ex02/In-class_Ex02.html",
    "title": "IS415 - GAA",
    "section": "",
    "text": "title: R for Geospatial Data Science html: code_fold = True code_summary =\nInstalling relevant r packages\n\npacman::p_load(arrow, lubridate, tidyverse, sf, tmap)\n\nImporting GrabPosisi data\n\ngrabdata &lt;- read_parquet(\"D:/Kabeer2003/IS415 - GAA/In-class_Ex/In-class_Ex02/data/GrabPosisi/part-00000.parquet\")\n\n\ngrabdata$pingtimestamp &lt;- as_datetime(grabdata$pingtimestamp)\n\nExtract trip start time\n\norigin_df &lt;- grabdata %&gt;%\n  group_by(trj_id) %&gt;%\n  arrange(pingtimestamp) %&gt;%\n  filter(row_number() == 1) %&gt;%\n  mutate(weekday = wday(pingtimestamp, label = TRUE, abbr = TRUE), \n         start_hr = factor(hour(pingtimestamp)),\n         day = factor(mday(pingtimestamp)))\n\nExtract destination location\n\ndestination_df &lt;- grabdata %&gt;%\n  group_by(trj_id) %&gt;%\n  arrange(desc(pingtimestamp)) %&gt;%\n  filter(row_number() == 1) %&gt;%\n  mutate(weekday = wday(pingtimestamp, label = TRUE, abbr = TRUE), \n         end_hr = factor(hour(pingtimestamp)),\n         day = factor(mday(pingtimestamp)))\n\nWriting the data from origin and destintion dataframes into respective RDS file\n\ndirectory_path &lt;- \"D:/Kabeer2003/IS415 - GAA/In-class_Ex/In-class_Ex02/data/rds/\"\n\nif (!dir.exists(directory_path)) {\n  dir.create(directory_path, recursive = TRUE)\n}\n\nwrite_rds(origin_df, file.path(directory_path, \"origin_df.rds\"))\nwrite_rds(destination_df, file.path(directory_path, \"destination_df.rds\"))\n\nRead data from existing rds files\n\norigin_df &lt;- read_rds(\"D:/Kabeer2003/IS415 - GAA/In-class_Ex/In-class_Ex02/data/rds/origin_df.rds\")\n\ndestination_df &lt;- read_rds(\"D:/Kabeer2003/IS415 - GAA/In-class_Ex/In-class_Ex02/data/rds/destination_df.rds\")"
  }
]